<!DOCTYPE html>
<html data-bs-theme="dark">
    <head>
        <title>PersonBot</title>
        <meta name="description" content="Invite PersonBot to your Discord server!">
        <meta name="author" content="imaperson">
        <meta property="og:image" content="/personbot.png">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="/favicon.ico">
        <link rel="stylesheet" href="/style.css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
        <script src="/socket.io.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" onload="$.getScript('/downAlert.js')"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>

        <script src="/script.js"></script>
        <script src="/nav.js"></script>
    </head>
    <body>
        <div class="container">
            <h1>PersonBot</h1>
            <p class="lead">One of the most <strike>useless</strike> useful Discord bots.</p>

            <br>

            <h5>Features:</h5>
            <ul>
                <li>URL Shortener</li>
                <li>YouTube Downloader</li>
                <li>YouTube Streaming</li>
            </ul>
            
            <p class="lead"><strike>That... that's it?</strike></p>

            <br>

            <h5><a href="https://discord.com/api/oauth2/authorize?client_id=882471379910426664&permissions=2150632448&scope=bot%20applications.commands" target="_blank">Invite PersonBot today!</a></h5>
            <p class="lead">Or don't, it's not like I'll ever know.</p>

            <br>

            <p class="lead">Okay, fine, it just does the stuff my website does, but in your Discord server. I'm too lazy to add anything new.</p>

            <br>

            <h5>Customize PersonBot</h5>
            <p class="lead">Run /update to generate the slash commands for your guild based on the permissions defined below. (if @everyone has a permission PersonBot will have it too)</p>
            <a id="customInvite" href="#" target="_blank"></a>
            <br>
            <button class="btn btn-primary btn-sm" onclick="hideUnused()">Show/Hide Unused Permissions</button>
            <!--
            <button class="btn btn-primary btn-sm" onclick="enableAll()">Enable All Permissions</button>
            <button class="btn btn-primary btn-sm" onclick="disableAll()">Disable All Permissions</button>
            -->
            <button class="btn btn-primary btn-sm" onclick="resetAll()">Reset</button>
            <table class="table table-bordered table-striped table-hover">
                <thead>
                    <tr>
                        <th scope="col">Enabled</th>
                        <th scope="col">Permission / Command</th>
                        <th scope="col">Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalAdministrator" class="form-check-input" type="checkbox" value="8">
                            </div>
                        </th>
                        <td onclick="$('#generalAdministrator').click();">Administrator</td>
                        <td id="generalAdministrator_requiredby" onclick="$('#generalAdministrator').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalViewAuditLog" class="form-check-input" type="checkbox" value="128">
                            </div>
                        </th>
                        <td onclick="$('#generalViewAuditLog').click();">View Audit Log</td>
                        <td id="generalViewAuditLog_requiredby" onclick="$('#generalViewAuditLog').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalViewGuildInsights" class="form-check-input" type="checkbox" value="524288">
                            </div>
                        </th>
                        <td onclick="$('#generalViewGuildInsights').click();">View Server Insights</td>
                        <td id="generalViewGuildInsights_requiredby" onclick="$('#generalViewGuildInsights').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalManageGuild" class="form-check-input" type="checkbox" value="32">
                            </div>
                        </th>
                        <td onclick="$('#generalManageGuild').click();">Manage Server</td>
                        <td id="generalManageGuild_requiredby" onclick="$('#generalManageGuild').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalManageRoles" class="form-check-input" type="checkbox" value="268435456">
                            </div>
                        </th>
                        <td onclick="$('#generalManageRoles').click();">Manage Roles</td>
                        <td id="generalManageRoles_requiredby" onclick="$('#generalManageRoles').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalManageChannels" class="form-check-input" type="checkbox" value="16">
                            </div>
                        </th>
                        <td onclick="$('#generalManageChannels').click();">Manage Channels</td>
                        <td id="generalManageChannels_requiredby" onclick="$('#generalManageChannels').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalKickMembers" class="form-check-input" type="checkbox" value="2">
                            </div>
                        </th>
                        <td onclick="$('#generalKickMembers').click();">Kick Members</td>
                        <td id="generalKickMembers_requiredby" onclick="$('#generalKickMembers').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalBanMembers" class="form-check-input" type="checkbox" value="4">
                            </div>
                        </th>
                        <td onclick="$('#generalBanMembers').click();">Ban Members</td>
                        <td id="generalBanMembers_requiredby" onclick="$('#generalBanMembers').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalCreateInvite" class="form-check-input" type="checkbox" value="1">
                            </div>
                        </th>
                        <td onclick="$('#generalCreateInvite').click();">Create Instant Invite</td>
                        <td id="generalCreateInvite_requiredby" onclick="$('#generalCreateInvite').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalChangeNickname" class="form-check-input" type="checkbox" value="67108864">
                            </div>
                        </th>
                        <td onclick="$('#generalChangeNickname').click();">Change Nickname</td>
                        <td id="generalChangeNickname_requiredby" onclick="$('#generalChangeNickname').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalManageNicknames" class="form-check-input" type="checkbox" value="134217728">
                            </div>
                        </th>
                        <td onclick="$('#generalManageNicknames').click();">Manage Nicknames</td>
                        <td id="generalManageNicknames_requiredby" onclick="$('#generalManageNicknames').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalManageEmojis" class="form-check-input" type="checkbox" value="1073741824">
                            </div>
                        </th>
                        <td onclick="$('#generalManageEmojis').click();">Manage Emojis and Stickers</td>
                        <td id="generalManageEmojis_requiredby" onclick="$('#generalManageEmojis').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalManageWebhooks" class="form-check-input" type="checkbox" value="536870912">
                            </div>
                        </th>
                        <td onclick="$('#generalManageWebhooks').click();">Manage Webhooks</td>
                        <td id="generalManageWebhooks_requiredby" onclick="$('#generalManageWebhooks').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalViewChannels" class="form-check-input" type="checkbox" value="1024">
                            </div>
                        </th>
                        <td onclick="$('#generalViewChannels').click();">Read Messages / View Channels</td>
                        <td id="generalViewChannels_requiredby" onclick="$('#generalViewChannels').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalManageEvents" class="form-check-input" type="checkbox" value="8589934592">
                            </div>
                        </th>
                        <td onclick="$('#generalManageEvents').click();">Manage Events</td>
                        <td id="generalManageEvents_requiredby" onclick="$('#generalManageEvents').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="generalModerateMembers" class="form-check-input" type="checkbox" value="1099511627776">
                            </div>
                        </th>
                        <td onclick="$('#generalModerateMembers').click();">Moderate Members</td>
                        <td id="generalModerateMembers_requiredby" onclick="$('#generalModerateMembers').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textSendMessages" class="form-check-input" type="checkbox" value="2048">
                            </div>
                        </th>
                        <td onclick="$('#textSendMessages').click();">Send Messages</td>
                        <td id="textSendMessages_requiredby" onclick="$('#textSendMessages').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textCreatePublicThreads" class="form-check-input" type="checkbox" value="34359738368">
                            </div>
                        </th>
                        <td onclick="$('#textCreatePublicThreads').click();">Create Public Threads</td>
                        <td id="textCreatePublicThreads_requiredby" onclick="$('#textCreatePublicThreads').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textCreatePrivateThreads" class="form-check-input" type="checkbox" value="68719476736">
                            </div>
                        </th>
                        <td onclick="$('#textCreatePrivateThreads').click();">Create Private Threads</td>
                        <td id="textCreatePrivateThreads_requiredby" onclick="$('#textCreatePrivateThreads').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textSendMessagesThreads" class="form-check-input" type="checkbox" value="274877906944">
                            </div>
                        </th>
                        <td onclick="$('#textSendMessagesThreads').click();">Send Messages in Threads</td>
                        <td id="textSendMessagesThreads_requiredby" onclick="$('#textSendMessagesThreads').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textSendTTSMessages" class="form-check-input" type="checkbox" value="274877906944">
                            </div>
                        </th>
                        <td onclick="$('#textSendTTSMessages').click();">Send TTS Messages</td>
                        <td id="textSendTTSMessages_requiredby" onclick="$('#textSendTTSMessages').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textManageMessages" class="form-check-input" type="checkbox" value="8192">
                            </div>
                        </th>
                        <td onclick="$('#textManageMessages').click();">Manage Messages</td>
                        <td id="textManageMessages_requiredby" onclick="$('#textManageMessages').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textManageThreads" class="form-check-input" type="checkbox" value="17179869184">
                            </div>
                        </th>
                        <td onclick="$('#textManageThreads').click();">Manage Threads</td>
                        <td id="textManageThreads_requiredby" onclick="$('#textManageThreads').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textEmbedLinks" class="form-check-input" type="checkbox" value="16384">
                            </div>
                        </th>
                        <td onclick="$('#textEmbedLinks').click();">Embed Links</td>
                        <td id="textEmbedLinks_requiredby" onclick="$('#textEmbedLinks').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textAttachFiles" class="form-check-input" type="checkbox" value="32768">
                            </div>
                        </th>
                        <td onclick="$('#textAttachFiles').click();">Attach Files</td>
                        <td id="textAttachFiles_requiredby" onclick="$('#textAttachFiles').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textReadMessageHistory" class="form-check-input" type="checkbox" value="65536">
                            </div>
                        </th>
                        <td onclick="$('#textReadMessageHistory').click();">Read Message History</td>
                        <td id="textReadMessageHistory_requiredby" onclick="$('#textReadMessageHistory').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textMentionEveryone" class="form-check-input" type="checkbox" value="131072">
                            </div>
                        </th>
                        <td onclick="$('#textMentionEveryone').click();">Mention Everyone</td>
                        <td id="textMentionEveryone_requiredby" onclick="$('#textMentionEveryone').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textUseExternalEmojis" class="form-check-input" type="checkbox" value="262144">
                            </div>
                        </th>
                        <td onclick="$('#textUseExternalEmojis').click();">Use External Emojis</td>
                        <td id="textUseExternalEmojis_requiredby" onclick="$('#textUseExternalEmojis').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textUseExternalStickers" class="form-check-input" type="checkbox" value="137438953472">
                            </div>
                        </th>
                        <td onclick="$('#textUseExternalStickers').click();">Use External Stickers</td>
                        <td id="textUseExternalStickers_requiredby" onclick="$('#textUseExternalStickers').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textAddReactions" class="form-check-input" type="checkbox" value="64">
                            </div>
                        </th>
                        <td onclick="$('#textAddReactions').click();">Add Reactions</td>
                        <td id="textAddReactions_requiredby" onclick="$('#textAddReactions').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="textUseSlashCommands" class="form-check-input" type="checkbox" value="2147483648">
                            </div>
                        </th>
                        <td onclick="$('#textUseSlashCommands').click();">Use Slash Commands</td>
                        <td id="textUseSlashCommands_requiredby" onclick="$('#textUseSlashCommands').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="voiceConnect" class="form-check-input" type="checkbox" value="1048576">
                            </div>
                        </th>
                        <td onclick="$('#voiceConnect').click();">Connect to Voice Channels</td>
                        <td id="voiceConnect_requiredby" onclick="$('#voiceConnect').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="voiceSpeak" class="form-check-input" type="checkbox" value="2097152">
                            </div>
                        </th>
                        <td onclick="$('#voiceSpeak').click();">Speak in Voice Channels</td>
                        <td id="voiceSpeak_requiredby" onclick="$('#voiceSpeak').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="voiceStream" class="form-check-input" type="checkbox" value="512">
                            </div>
                        </th>
                        <td onclick="$('#voiceStream').click();">Stream in Voice Channels</td>
                        <td id="voiceStream_requiredby" onclick="$('#voiceStream').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="voiceMuteMembers" class="form-check-input" type="checkbox" value="4194304">
                            </div>
                        </th>
                        <td onclick="$('#voiceMuteMembers').click();">Mute Members</td>
                        <td id="voiceMuteMembers_requiredby" onclick="$('#voiceMuteMembers').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="voiceDeafenMembers" class="form-check-input" type="checkbox" value="8388608">
                            </div>
                        </th>
                        <td onclick="$('#voiceDeafenMembers').click();">Deafen Members</td>
                        <td id="voiceDeafenMembers_requiredby" onclick="$('#voiceDeafenMembers').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="voiceMoveMembers" class="form-check-input" type="checkbox" value="16777216">
                            </div>
                        </th>
                        <td onclick="$('#voiceMoveMembers').click();">Move Members</td>
                        <td id="voiceMoveMembers_requiredby" onclick="$('#voiceMoveMembers').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="voiceUseVAD" class="form-check-input" type="checkbox" value="33554432">
                            </div>
                        </th>
                        <td onclick="$('#voiceUseVAD').click();">Use Voice Activity</td>
                        <td id="voiceUseVAD_requiredby" onclick="$('#voiceUseVAD').click();">Required by nothing</td>
                    </tr>
                    <tr class="permission">
                        <th scope="row">
                            <div class="form-check form-switch">
                                <input id="voicePrioritySpeaker" class="form-check-input" type="checkbox" value="256">
                            </div>
                        </th>
                        <td onclick="$('#voicePrioritySpeaker').click();">Priority Speaker</td>
                        <td id="voicePrioritySpeaker_requiredby" onclick="$('#voicePrioritySpeaker').click();">Required by nothing</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <script>
            /*var perms = {
	            generalAdministrator: 8,
	            generalViewAuditLog: 128,
	            generalViewGuildInsights: 524288,
	            generalManageGuild: 32,
	            generalManageRoles: 268435456,
	            generalManageChannels: 16,
	            generalKickMembers: 2,
	            generalBanMembers: 4,
                generalCreateInvite: 1,
	            generalChangeNickname: 67108864,
	            generalManageNicknames: 134217728,
	            generalManageEmojis: 1073741824,
	            generalManageWebhooks: 536870912,
                generalViewChannels: 1024,
	            generalManageEvents: 8589934592,
                generalModerateMembers: 1099511627776,
	            textSendMessages: 2048,
	            textCreatePublicThreads: 34359738368,
	            textCreatePrivateThreads: 68719476736,
	            textSendMessagesThreads: 274877906944,
	            textSendTTSMessages: 4096,
	            textManageMessages: 8192,
	            textManageThreads: 17179869184,
	            textEmbedLinks: 16384,
	            textAttachFiles: 32768,
	            textReadMessageHistory: 65536,
	            textMentionEveryone: 131072,
	            textUseExternalEmojis: 262144,
	            textUseExternalStickers: 137438953472,
	            textAddReactions: 64,
	            textUseSlashCommands: 2147483648,
	            voiceConnect: 1048576,
	            voiceSpeak: 2097152,
	            voiceStream: 512,
	            voiceMuteMembers: 4194304,
	            voiceDeafenMembers: 8388608,
	            voiceMoveMembers: 16777216,
	            voiceUseVAD: 33554432,
	            voicePrioritySpeaker: 256
            } for anyone who needs it */

            const required = [ { name: "generalViewChannels", requiredby: [ "/ytstream" ] }, { name: "voiceConnect", requiredby: [ "/ytstream" ] }, { name: "voiceSpeak", requiredby: [ "/ytstream" ] } ];

            function hideUnused() { $(".permission").each((i, x) => { if (!required.find(x => x.name == $(".form-check-input")[i].id)) $(x).toggle() }); }
            function enableAll() { $(".form-check-input").each((i, x) => $(x).prop("checked", true)); updatePermissions(); }
            function disableAll() { $(".form-check-input").each((i, x) => $(x).prop("checked", false)); updatePermissions(); }
            function resetAll() { $(".form-check-input").each((i, x) => $(x).prop("checked", (!!required.find(y => y.name == x.id)))); updatePermissions(); }

            hideUnused();
            resetAll();
            $(".form-check-input").each((i, x) => $(`#${x.id}_requiredby`).html(required.find(y => y.name == x.id) ? `Required by <code>${required.find(y => y.name == x.id).requiredby.join("</code>, <code>")}</code>`.replace(/,([^,]*)$/, ", and $1").replace(/,([^,]*)$/, ",$1") : "Required by nothing"));

            function updatePermissions() {
                var permissions = 0;
                $(".form-check-input").each((i, x) => { if ($(x).is(":checked")) permissions += parseInt($(x).val()) });
                $("#customInvite").prop("href", `https://discord.com/api/oauth2/authorize?client_id=882471379910426664&permissions=${permissions}&scope=bot%20applications.commands`);
                $("#customInvite").html(`https://discord.com/api/oauth2/authorize?client_id=882471379910426664&permissions=${permissions}&scope=bot%20applications.commands`);
                if ($("#generalAdministrator").is(":checked")) {
                    $("#customInvite").prop("href", `https://discord.com/api/oauth2/authorize?client_id=882471379910426664&permissions=8&scope=bot%20applications.commands`);
                    $("#customInvite").html(`https://discord.com/api/oauth2/authorize?client_id=882471379910426664&permissions=8&scope=bot%20applications.commands`);
                    $(".form-check-input").each((i, x) => { if (x.id != "generalAdministrator") $(x).prop("disabled", true) });
                } else {
                    $(".form-check-input").each((i, x) => $(x).prop("disabled", false));
                }
            }

            updatePermissions();

            $(".form-check-input").click(() => updatePermissions());
        </script>
    </body>
</html>